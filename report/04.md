# 워킹셋(Working Set) 개념 정리

### 개요
운영체제와 컴퓨터 과학에서 주로 사용되는 개념으로, 특정 시간 동안 프로세스가 활발하게 참조하는 페이지의 집합을 의미합니다. 이는 주로 메모리 관리와 성능 최적화와 관련이 깊음.

### 워킹셋의 주요 특징
- 활성 메모리 집합:
    - 프로세스가 일정 기간 동안 실제로 사용하는 페이지들의 집합입니다.
    - 프로세스는 실행 중에 전체 메모리 공간을 필요로 하지 않고, 특정 시간 동안 필요한 페이지만을 참조하는 경향이 있습니다.

- 시간 기준(Window size, ∆):
    - 워킹셋은 특정 시간 간격(∆, 델타)을 기준으로 정의됩니다.
    - 이 시간 동안 참조된 페이지만 워킹셋에 포함되며, 오랫동안 참조되지 않은 페이지는 워킹셋에서 제외됩니다.

- 동적 변화:
    - 프로그램의 실행 상태에 따라 워킹셋의 크기가 계속 변합니다.
    - 예를 들어, 루프 실행 중에는 해당 코드와 데이터가 워킹셋을 구성하고, 루프가 끝나면 다른 페이지가 워킹셋에 포함됩니다.

## 워킹셋의 활용 
- 페이지 교체 알고리즘:
    - 운영체제는 워킹셋 정보를 기반으로 페이지 교체 시 어떤 페이지를 내보낼지 결정합니다.
    - 최근에 참조된 페이지는 유지하고, 오랫동안 사용되지 않은 페이지는 교체 후보가 됩니다.

- 메모리 관리:
    - 워킹셋 모델을 활용하면 프로세스가 실제로 필요한 메모리만 할당하여 메모리 낭비를 줄일 수 있습니다.
    - 이는 스와핑과 페이지 폴트를 줄이는 데 기여합니다.

- 성능 최적화:
    - 적절한 워킹셋 크기를 유지하면 캐시 효율성을 높이고, 시스템 성능을 개선할 수 있습니다.

### 워킹셋과 스레싱의 관계
- 스레싱(Thrashing) 정의:
    - 프로세스가 필요한 페이지를 메모리에서 찾지 못하고, 페이지 폴트가 연속적으로 발생해 시스템이 페이지 교체 작업에만 몰두하는 상태입니다.
    - CPU는 유휴 상태가 되고, 디스크 I/O만 과도하게 증가해 전체 시스템 성능이 급격히 저하됩니다.

- 워킹셋 역할:
    - 워킹셋은 프로세스가 일정 기간 동안 실제로 참조하는 페이지의 집합입니다.
    - 운영체제는 각 프로세스의 워킹셋 크기를 파악해 실제 필요한 메모리만 적절히 할당합니다.
    - 충분한 메모리를 제공하면 스레싱을 방지하고, 시스템 성능을 안정적으로 유지할 수 있습니다.


### 워킹셋의 장단점
- 장점:
  - 실제로 사용되는 메모리만 파악하여 불필요한 메모리 할당을 방지합니다.
  - 스래싱 문제를 예방해 시스템의 안정적인 성능을 유지할 수 있습니다.
- 단점:
  - 워킹셋 계산에 추가적인 자원과 시간이 소요될 수 있습니다.
  - 적절한 시간 창 설정이 어려워 시스템 특성에 맞게 조정이 필요합니다.
